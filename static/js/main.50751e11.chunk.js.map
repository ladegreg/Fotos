{"version":3,"sources":["context/auth-context.js","pages/Auth.js","pages/Bookings.js","components/Modal/Modal.js","components/Backdrop/Backdrop.js","pages/Events.js","components/Navigation/MainNavigation.js","App.js","index.js"],"names":["React","createContext","token","userId","login","tokenExpiration","logout","AuthPage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isLogin","switchModeHandler","setState","prevState","submitHandler","event","preventDefault","email","emailEl","current","value","password","passwordEl","trim","length","requestBody","query","concat","fetch","method","body","JSON","stringify","headers","Content-Type","then","res","status","Error","json","resData","data","context","catch","err","console","log","createRef","react_default","a","createElement","className","onSubmit","htmlFor","type","id","ref","onClick","Component","contextType","AuthContext","BookingsPage","modal","title","children","canCancel","onCancel","canConfirm","onConfirm","backdrop","EventsPage","creating","events","startCreateEventHandler","modalConfirmHandler","titleElRef","price","priceElRef","date","dateElRef","description","descriptionElRef","Authorization","fetchEvents","modalCancelHandler","_this2","eventList","map","key","_id","Fragment","Backdrop_Backdrop","Modal_Modal","rows","mainNavigation","auth_context","Consumer","NavLink","to","App","BrowserRouter","Provider","Navigation_MainNavigation","Switch","Redirect","from","exact","Route","path","component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.50751e11.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default React.createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: (token, userId,tokenExpiration) => {},\r\n  logout: () => {}\r\n});\r\n","import React, {Component} from 'react';\r\n\r\nimport './Auth.css';\r\nimport AuthContext from '../context/auth-context';\r\n\r\nclass AuthPage extends Component {\r\n  state = {\r\n    isLogin: true\r\n  };\r\n\r\n  static contextType = AuthContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.emailEl = React.createRef();\r\n    this.passwordEl = React.createRef();\r\n  }\r\n\r\n  switchModeHandler = () => {\r\n    this.setState(prevState => {\r\n      return { isLogin: !prevState.isLogin };\r\n    });\r\n  };\r\n\r\n  submitHandler = event => {\r\n    event.preventDefault();\r\n    const email = this.emailEl.current.value;\r\n    const password = this.passwordEl.current.value;\r\n\r\n    if (email.trim().length === 0 || password.trim().length === 0) {\r\n      return;\r\n    }\r\n\r\n    let requestBody = {\r\n      query: `\r\n        query {\r\n          login(email:\"${email}\", password: \"${password}\") {\r\n            userId\r\n            token\r\n            tokenExpiration\r\n          }\r\n        }\r\n      `\r\n    };\r\n\r\n    if (!this.state.isLogin) {\r\n      requestBody = {\r\n        query:`\r\n        mutation {\r\n          createUser(userInput: {email: \"${email}\", password: \"${password}\"}) {\r\n            _id\r\n            email\r\n          }\r\n        }\r\n        `\r\n      };\r\n    }\r\n\r\n    fetch('http://localhost:8000/graphql', {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      if (res.status !== 200 && res.status !== 201) {\r\n        throw new Error('Failed');\r\n      }\r\n      return res.json();\r\n    })\r\n    .then(resData => {\r\n      if (resData.data.login.token) {\r\n        this.context.login(\r\n          resData.data.login.token,\r\n          resData.data.login.userId,\r\n          resData.data.login.tokenExpiration\r\n        );\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form className=\"auth-forms\" onSubmit={this.submitHandler}>\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"email\"> E-Mail </label>\r\n            <input type=\"email\" id=\"email\" ref={this.emailEl}/>\r\n          </div>\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"password\"> Password </label>\r\n            <input type=\"password\" id=\"password\" ref={this.passwordEl}/>\r\n          </div>\r\n          <div className=\"form-actions\">\r\n            <button type=\"submit\">Submit</button>\r\n            <button type=\"button\" onClick={this.switchModeHandler}>Switch to {this.state.isLogin ? 'Signup' : 'Login'}</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthPage;\r\n","import React, {Component} from 'react';\r\n\r\nclass BookingsPage extends Component {\r\n  render() {\r\n    return <h1>the Bookings page </h1>;\r\n  }\r\n}\r\n\r\nexport default BookingsPage;\r\n","import React from 'react';\r\n\r\nimport './Modal.css';\r\n\r\nconst modal = props => (\r\n  <div className=\"modal\">\r\n    <header className=\"modal__header\">{props.title}</header>\r\n    <section className=\"modal__content\">\r\n      {props.children}\r\n    </section>\r\n    <section className=\"modal__actions\">\r\n      {props.canCancel && <button className=\"btn\" onClick={props.onCancel}>Cancel</button>}\r\n      {props.canConfirm && <button className=\"btn\" onClick={props.onConfirm}>Confirm</button>}\r\n    </section>\r\n  </div>\r\n);\r\n\r\nexport default modal;\r\n","import React from 'react';\r\n\r\nimport './Backdrop.css';\r\n\r\nconst backdrop = props => <div className=\"backdrop\"></div>;\r\n\r\nexport default backdrop;\r\n","import React, { Component } from 'react';\r\n\r\nimport Modal from '../components/Modal/Modal';\r\nimport Backdrop from '../components/Backdrop/Backdrop';\r\nimport AuthContext from '../context/auth-context';\r\nimport './Events.css';\r\n\r\nclass EventsPage extends Component {\r\n  state = {\r\n    creating: false,\r\n    events: []\r\n  };\r\n\r\n  static contextType = AuthContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.titleElRef = React.createRef();\r\n    this.priceElRef = React.createRef();\r\n    this.dateElRef = React.createRef();\r\n    this.descriptionElRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchEvents();\r\n  }\r\n\r\n  startCreateEventHandler = () => {\r\n    this.setState({ creating: true });\r\n  };\r\n\r\n  modalConfirmHandler = () => {\r\n    this.setState({ creating: false });\r\n    const title = this.titleElRef.current.value;\r\n    const price = +this.priceElRef.current.value;\r\n    const date = this.dateElRef.current.value;\r\n    const description = this.descriptionElRef.current.value;\r\n\r\n    if (\r\n      title.trim().length === 0 ||\r\n      price <= 0 ||\r\n      date.trim().length === 0 ||\r\n      description.trim().length === 0\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const event = { title, price, date, description };\r\n    console.log(event);\r\n\r\n    const requestBody = {\r\n      query: `\r\n          mutation {\r\n            createEvent(eventInput: {title: \"${title}\", description: \"${description}\", price: ${price}, date: \"${date}\"}) {\r\n              _id\r\n              title\r\n              description\r\n              date\r\n              price\r\n            }\r\n          }\r\n        `\r\n    };\r\n\r\n    const token = this.context.token;\r\n\r\n    fetch('http://localhost:8000/graphql', {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + token\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error('Failed!');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(resData => {\r\n        this.fetchEvents();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  modalCancelHandler = () => {\r\n    this.setState({ creating: false });\r\n  };\r\n\r\n  fetchEvents() {\r\n    const requestBody = {\r\n      query: `\r\n          query {\r\n            events {\r\n              _id\r\n              title\r\n              description\r\n              date\r\n              price\r\n            }\r\n          }\r\n        `\r\n    };\r\n\r\n    fetch('http://localhost:8000/graphql', {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error('Failed!');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(resData => {\r\n        const events = resData.data.events;\r\n        this.setState({ events: events });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const eventList = this.state.events.map(event => {\r\n      return (\r\n        <li key={event._id} className=\"events__list-item\">\r\n          {event.title}\r\n        </li>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.creating && <Backdrop />}\r\n        {this.state.creating && (\r\n          <Modal\r\n            title=\"Add Event\"\r\n            canCancel\r\n            canConfirm\r\n            onCancel={this.modalCancelHandler}\r\n            onConfirm={this.modalConfirmHandler}\r\n          >\r\n            <form>\r\n              <div className=\"form-control\">\r\n                <label htmlFor=\"title\">Title</label>\r\n                <input type=\"text\" id=\"title\" ref={this.titleElRef} />\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label htmlFor=\"price\">Price</label>\r\n                <input type=\"number\" id=\"price\" ref={this.priceElRef} />\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label htmlFor=\"date\">Date</label>\r\n                <input type=\"datetime-local\" id=\"date\" ref={this.dateElRef} />\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label htmlFor=\"description\">Description</label>\r\n                <textarea\r\n                  id=\"description\"\r\n                  rows=\"4\"\r\n                  ref={this.descriptionElRef}\r\n                />\r\n              </div>\r\n            </form>\r\n          </Modal>\r\n        )}\r\n        {this.context.token && (\r\n          <div className=\"events-control\">\r\n            <p>Share your own Events!</p>\r\n            <button className=\"btn\" onClick={this.startCreateEventHandler}>\r\n              Create Event\r\n            </button>\r\n          </div>\r\n        )}\r\n        <ul className=\"events__list\">{eventList}</ul>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EventsPage;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport AuthContext from '../../context/auth-context';\r\nimport './MainNavigation.css';\r\n\r\nconst mainNavigation = props =>(\r\n  <AuthContext.Consumer>\r\n    {(context) => {\r\n      return (\r\n        <header className=\"main-navigation\">\r\n          <div className=\"main-navigation_logo\">\r\n            <h1>The NavBar </h1>\r\n          </div>\r\n        <nav className=\"main-navigation_item\">\r\n          <ul>\r\n            {!context.token && (\r\n            <li><NavLink to=\"/auth\">Authenticate</NavLink></li>\r\n            )}\r\n            <li><NavLink to=\"/events\">Events</NavLink></li>\r\n            {context.token && (\r\n              <React.Fragment>\r\n                <li><NavLink to=\"/bookings\">Bookings</NavLink></li>\r\n                <li><button onClick={context.logout}>Logout</button></li>\r\n              </React.Fragment>\r\n            )}\r\n          </ul>\r\n        </nav>\r\n        </header>\r\n      );\r\n    }}\r\n  </AuthContext.Consumer>\r\n);\r\n\r\nexport default mainNavigation;\r\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\n\nimport AuthPage from './pages/Auth';\nimport BookingsPage from './pages/Bookings';\nimport EventsPage from './pages/Events';\nimport MainNavigation from './components/Navigation/MainNavigation';\nimport AuthContext from './context/auth-context';\n\nimport './App.css';\n\nclass App extends Component {\n\n  state = {\n    token: null,\n    userId: null\n  };\n\n  login = (token, userId, tokenExpiration) => {\n    this.setState({ token: token, userId: userId });\n  };\n\n  logout = () => {\n    this.setState({token: null, userId: null});\n  };\n\n  render() {\n    return (\n      <BrowserRouter>\n        <React.Fragment>\n          <AuthContext.Provider\n            value={{\n              token: this.state.token,\n              userId: this.state.userId,\n              login: this.login,\n              logout:this.logout}}>\n          <MainNavigation/>\n            <main className=\"main-content\">\n              <Switch>\n                {this.state.token && <Redirect from=\"/\" to=\"/events\" exact />}\n                {this.state.token && <Redirect from=\"/auth\" to=\"/events\" exact />}\n                {!this.state.token && (<Route path=\"/auth\" component={AuthPage} />)}\n                <Route path=\"/events\" component={EventsPage} />\n                {this.state.token && (<Route path=\"/bookings\" component={BookingsPage} />)}\n                {!this.state.token && <Redirect to=\"/auth\" exact />}\n              </Switch>\n            </main>\n          </AuthContext.Provider>\n        </React.Fragment>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}